<div class="container mt-5">
  {{!-- sort --}}
  <div class="row justify-content-center">
    <div class="col-12 col-md-6 col-lg-6">
      <form action="/filter" method="get">
        <select class="form-select" id="filter" name="filter" onchange="this.form.submit()"
          aria-label="Default select example">
          <option value="" disabled {{#if (eq filteredCategory '' )}} selected {{/if}}>請選擇分類</option>
          <option value="meals" {{#if (eq filteredCategory 'meals' )}} selected {{/if}}>餐飲食品</option>
          <option value="traffics" {{#if (eq filteredCategory 'traffics' )}} selected {{/if}}>交通出行</option>
          <option value="living" {{#if (eq filteredCategory 'living' )}} selected {{/if}}>家居物業</option>
          <option value="entertainments" {{#if (eq filteredCategory 'entertainments' )}} selected {{/if}}>休閒娛樂</option>
          <option value="others" {{#if (eq filteredCategory 'others' )}} selected {{/if}}>其他</option>
        </select>
      </form>
    </div>
  </div>
  {{!-- main --}}
  <main class="mt-5">
    <div class="row justify-content-center">
      <div class="total-amount d-flex justify-content-between">
        <h2>總金額:</h2>
        <span class="fs-1">{{ totalAmount }} 元</span>
      </div>
    </div>
    <div class="row justify-content-center mt-2">
      <div class="col-12 col-md-10 col-lg-6">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">項目</th>
              <th scope="col">金額</th>
              <th scope="col">修改</th>
              <th scope="col">刪除</th>
            </tr>
          </thead>
          <tbody>
            {{#each records}}
            <tr>
              <th scope="row">
                <div class="row">
                  <div class="col-3">
                    <span>
                      <i class="fas fa-{{ this.category }} fa-2x"></i>
                    </span>
                    <div class="col-9">
                      <a href="/records/{{ this._id }}" class="text-decoration-none text-body">
                        <div class="detail">
                          <h2 class="fs-5">{{ this.name }}</h2>
                          <h3 class="fs-6">{{ this.date }}</h3>
                        </div>
                      </a>
                    </div>
                  </div>
              </th>
              <td>{{ this.amount }}</td>
              <td><a href="/records/{{ this._id }}/edit" class="btn btn-success">編輯</a></td>
              <td>
                <form action="/records/{{ this._id }}/delete" method="POST" style="display: inline;">
                  <button type="submit" class="btn btn-danger">刪除</button>
                </form>
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
    <div class="mx-auto mt-3" style="width: 200px;">
      <a href="/records/new" class="btn btn-primary">新增支出</a>
    </div>
  </main>
</div>